{% extends 'base.html' %}

{% block content %}
  <h2 class="text-2xl font-bold mb-4">Events</h2>
  <ul class="space-y-4">
    {% for event in events %}
      <li class="bg-white shadow p-4 rounded">
        <h3 class="text-xl font-bold">{{ event.name }}</h3>
        <p class="text-gray-500">{{ event.start_date }} - {{ event.end_date }}</p>
        {% if user in event.registrants.all %}
          <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">Registered</span>
        {% else %}
          <a href="{% url 'register_event' event.id %}" class="inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Register</a>
        {% endif %}
      </li>
    {% empty %}
      <li class="text-gray-500">No events available.</li>
    {% endfor %}
  </ul>
{% endblock %}
